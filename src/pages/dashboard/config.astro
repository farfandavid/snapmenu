---
import ChangeName from "../../components/dashboard/configPage/ChangeName.astro";
import RenewPayment from "../../components/dashboard/configPage/RenewPayment.astro";
import DashboardLayout from "../../layouts/DashboardLayout.astro";
import { Menu } from "../../server/class/Menu";

const menus = await Menu.getMenusByUserId(Astro.locals.user.id || "").catch(
    (err) => {
        console.error(err);
        return null;
    },
);
---

<DashboardLayout>
    {
        () => {
            if (menus === null || menus.length === 0) {
                return (
                    <div class="flex justify-center items-center h-96">
                        <div class="text-center">
                            <h1 class="text-4xl font-bold">No tienes Menus</h1>
                            <p class="text-lg">
                                Crea un menu para empezar a vender
                            </p>
                        </div>
                    </div>
                );
            } else {
                return (
                    <div class="flex flex-col items-center space-y-2">
                        <h1 class="font-bold text-2xl">Configuraci√≥n</h1>
                        <p class="text-xl">Empecemos!</p>
                        <ChangeName menus={menus} />
                        <RenewPayment menus={menus} />
                    </div>
                );
            }
        }
    }
</DashboardLayout>
<script>
    console.log("");
</script>
